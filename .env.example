# AI Personal Assistant - Environment Variables
# Copy this file to .env and fill in your values
# NEVER commit .env files with real credentials
#
# QUICK START: The only required keys for basic functionality are:
#   - DATABASE_URL (PostgreSQL - local install or cloud)
#   - ANTHROPIC_API_KEY (for AI chat features)
#
# Everything else is optional and can be added later as you enable features.

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Node environment: development, test, production
NODE_ENV=development

# Application port (backend API server)
PORT=3000

# Application host
HOST=localhost

# Log level: debug, info, warn, error
LOG_LEVEL=info

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL connection string
# Format: postgresql://user:password@host:port/database
#
# LOCAL INSTALL:
#   - Mac: brew install postgresql && brew services start postgresql
#   - Ubuntu: sudo apt install postgresql && sudo systemctl start postgresql
#   - Windows: https://www.postgresql.org/download/windows/
#   - Default local URL (no password): postgresql://postgres@localhost:5432/ai_assistant
#
# CLOUD OPTIONS (free tiers available):
#   - Supabase: https://supabase.com (free tier, 500MB)
#   - Neon: https://neon.tech (free tier, 512MB)
#   - Railway: https://railway.app (free tier with limits)
#   - Render: https://render.com/docs/databases (free tier, 90 days)
#
DATABASE_URL=postgresql://postgres@localhost:5432/ai_assistant

# Redis connection string (for caching and real-time features)
#
# LOCAL INSTALL:
#   - Mac: brew install redis && brew services start redis
#   - Ubuntu: sudo apt install redis-server && sudo systemctl start redis
#   - Windows: https://github.com/microsoftarchive/redis/releases (or use WSL)
#
# CLOUD OPTIONS:
#   - Upstash: https://upstash.com (free tier, 10K commands/day)
#   - Redis Cloud: https://redis.com/try-free/ (free tier, 30MB)
#   - Railway: https://railway.app (Redis plugin)
#
# NOTE: Redis is optional for development. The app will work without it.
#
REDIS_URL=redis://localhost:6379

# =============================================================================
# SECURITY & ENCRYPTION (auto-generated by setup script)
# =============================================================================

# JWT secret for authentication tokens
# Generate manually: openssl rand -base64 64
# Or let setup.sh generate it automatically
JWT_SECRET=your-jwt-secret-here-replace-with-strong-random-string

# JWT token expiration (e.g., 1h, 7d, 30d)
JWT_EXPIRES_IN=7d

# Refresh token secret (should be different from JWT_SECRET)
# Generate manually: openssl rand -base64 64
REFRESH_TOKEN_SECRET=your-refresh-token-secret-here

# Refresh token expiration
REFRESH_TOKEN_EXPIRES_IN=30d

# Encryption key for data at rest (AES-256, must be 32 bytes)
# Generate manually: openssl rand -hex 32
ENCRYPTION_KEY=your-32-byte-hex-encryption-key-here

# =============================================================================
# TLS/SSL CONFIGURATION (production only)
# =============================================================================

# Enable TLS for HTTPS server
# For local development, leave as false (use http://localhost)
# For production, set to true and provide certificate paths
TLS_ENABLED=false

# TLS certificate files (required if TLS_ENABLED=true)
# FREE CERTIFICATES:
#   - Let's Encrypt: https://letsencrypt.org (free, auto-renewal)
#   - Certbot: https://certbot.eff.org (easy Let's Encrypt setup)
#   - Cloudflare: https://cloudflare.com (free SSL with their DNS)
#
TLS_KEY_PATH=/path/to/private-key.pem
TLS_CERT_PATH=/path/to/certificate.pem
TLS_CA_PATH=/path/to/ca-certificate.pem

# =============================================================================
# AI / LLM CONFIGURATION
# =============================================================================

# ┌─────────────────────────────────────────────────────────────────────────┐
# │ ANTHROPIC (Claude) - RECOMMENDED                                        │
# │ https://console.anthropic.com/settings/keys                             │
# │                                                                         │
# │ 1. Sign up / log in at console.anthropic.com                            │
# │ 2. Go to Settings → API Keys                                            │
# │ 3. Click "Create Key"                                                   │
# │ 4. Copy the key (starts with "sk-ant-...")                              │
# │                                                                         │
# │ Pricing: https://www.anthropic.com/pricing                              │
# │ - Claude 3 Haiku: $0.25/1M input, $1.25/1M output (cheapest)            │
# │ - Claude 3 Sonnet: $3/1M input, $15/1M output                           │
# │ - Claude 3 Opus: $15/1M input, $75/1M output (most capable)             │
# └─────────────────────────────────────────────────────────────────────────┘
ANTHROPIC_API_KEY=your-anthropic-api-key

# LLM Provider (only anthropic supported)
LLM_PROVIDER=anthropic

# =============================================================================
# SMS / TWILIO CONFIGURATION (optional - for text message features)
# =============================================================================

# ┌─────────────────────────────────────────────────────────────────────────┐
# │ TWILIO - SMS & Phone Features                                           │
# │ https://console.twilio.com                                              │
# │                                                                         │
# │ 1. Sign up at twilio.com/try-twilio (free trial, $15 credit)            │
# │ 2. Verify your phone number                                             │
# │ 3. From Console dashboard, copy:                                        │
# │    - Account SID (starts with "AC...")                                  │
# │    - Auth Token (click to reveal)                                       │
# │ 4. Get a phone number: Phone Numbers → Buy a Number (~$1/month)         │
# │                                                                         │
# │ Pricing: ~$0.0079/SMS sent, ~$0.0075/SMS received (US)                  │
# │ Free trial includes test credits                                        │
# └─────────────────────────────────────────────────────────────────────────┘
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# =============================================================================
# VOICE COMMUNICATION (optional - 100% LOCAL, NO API COSTS!)
# =============================================================================

# ┌─────────────────────────────────────────────────────────────────────────┐
# │ LOCAL VOICE MODELS - Fully Offline Speech-to-Text & Text-to-Speech     │
# │                                                                         │
# │ WHISPER (STT) - Download model:                                         │
# │ https://huggingface.co/ggerganov/whisper.cpp/tree/main                  │
# │ Recommended: ggml-base.en.bin (142MB) or ggml-small.en.bin (466MB)     │
# │                                                                         │
# │ PIPER (TTS) - Download voice:                                           │
# │ https://huggingface.co/rhasspy/piper-voices/tree/main                   │
# │ Recommended: en_US-lessac-medium (US English, natural)                  │
# │                                                                         │
# │ 1. Download models to ./models/ directory                               │
# │ 2. Update paths below                                                   │
# │ 3. Install binaries: whisper-cpp and piper (see SETUP.md)              │
# └─────────────────────────────────────────────────────────────────────────┘

# Path to Whisper model (.bin file)
WHISPER_MODEL_PATH=./models/whisper/ggml-base.en.bin
# Optional: Path to whisper binary (if not in PATH)
WHISPER_BINARY_PATH=whisper-cpp

# Path to Piper TTS model (.onnx file)
PIPER_MODEL_PATH=./models/piper/en_US-lessac-medium.onnx
# Optional: Path to piper binary (if not in PATH)
PIPER_BINARY_PATH=piper

# ┌─────────────────────────────────────────────────────────────────────────┐
# │ PICOVOICE - Wake Word Detection ("Computer")                            │
# │ https://console.picovoice.ai                                            │
# │                                                                         │
# │ 1. Sign up at console.picovoice.ai                                      │
# │ 2. Go to AccessKey in the left sidebar                                  │
# │ 3. Copy your Access Key                                                 │
# │                                                                         │
# │ Free tier: Unlimited for personal use (non-commercial)                  │
# └─────────────────────────────────────────────────────────────────────────┘
PORCUPINE_ACCESS_KEY=your-porcupine-access-key

# Voice feature settings
VOICE_ENABLED=false
VOICE_RETENTION_DAYS=30
VOICE_AUTO_DELETE_TRANSCRIPTS=true

# =============================================================================
# REMOTE ACCESS CONFIGURATION (optional - for desktop agent sync)
# =============================================================================

# Secret key for authenticating the desktop agent
# Generate: openssl rand -base64 32
# This is auto-generated by setup.sh
REMOTE_AGENT_SECRET=your-remote-agent-secret

# Allowed IP addresses for remote access
# Use comma-separated list, or * for any (not recommended for production)
REMOTE_ALLOWED_IPS=127.0.0.1

# =============================================================================
# RATE LIMITING
# =============================================================================

# Prevent abuse by limiting requests
RATE_LIMIT_PER_MINUTE=60
SMS_RATE_LIMIT_PER_HOUR=20

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Toggle features on/off during development
# SMS requires Twilio keys above
FEATURE_SMS_ENABLED=false

# Remote access requires REMOTE_AGENT_SECRET
FEATURE_REMOTE_ACCESS_ENABLED=false

# Health tracking (sleep, workouts, etc.)
FEATURE_HEALTH_TRACKING_ENABLED=true

# =============================================================================
# QUICK REFERENCE - What you need for each feature
# =============================================================================
#
# BASIC CHAT & DASHBOARD:
#   - DATABASE_URL (PostgreSQL)
#   - ANTHROPIC_API_KEY
#
# SMS REMINDERS:
#   - TWILIO_ACCOUNT_SID
#   - TWILIO_AUTH_TOKEN
#   - TWILIO_PHONE_NUMBER
#   - Set FEATURE_SMS_ENABLED=true
#
# VOICE ASSISTANT (100% Local):
#   - WHISPER_MODEL_PATH (download from HuggingFace)
#   - PIPER_MODEL_PATH (download from HuggingFace)
#   - PORCUPINE_ACCESS_KEY (wake word detection - free for personal use)
#   - Install whisper-cpp and piper binaries
#   - Set VOICE_ENABLED=true
#
# DESKTOP AGENT SYNC:
#   - REMOTE_AGENT_SECRET (auto-generated)
#   - Set FEATURE_REMOTE_ACCESS_ENABLED=true
#
